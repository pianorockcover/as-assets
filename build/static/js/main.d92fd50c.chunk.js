(this["webpackJsonpas-assets"]=this["webpackJsonpas-assets"]||[]).push([[0],{167:function(e){e.exports=JSON.parse('[{"author":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440 \u0410\u043a\u0442\u0438\u0432\u0430","date":"22.03.2020 05:40","text":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0443\u0441\u044c \u0441 \u0432\u0430\u043c\u0438 \u043a\u0430\u043b\u043b\u0435\u0433\u0430, \u0430\u043a\u0442\u0438\u0432 **\u043e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445.**","visible":true},{"author":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440 \u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432\u0438\u0447","date":"02.03.2020 09:40","text":"### \u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0430\u043a\u0442\u0438\u0432\\n\u042d\u0442\u043e\u0442 \u0430\u043a\u0442\u0438\u0432 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u0445\u043e\u0440\u043e\u0448, \u0447\u0442\u043e \u0434\u0430\u0436\u0435 \u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u043d **\u043e\u0444\u0438\u0433\u0435\u043d\u0435\u043d**.\\n\u0412\u0441\u0435 \u043a\u0440\u0438\u0435\u0442\u0440\u0438\u0438 \u0432 \u043f\u043e\u0440\u044f\u0434\u0435:\\n1. \u041f\u0435\u0440\u0432\u044b\u0439 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439\\n2. \u0412\u0442\u043e\u0440\u043e\u0439 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439\\n3. \u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u0430\u0449\u0435 \u043e\u0433\u043e\u043d\u044c.\\n\\n \u0414\u0430\u0436\u0435 [\u0441\u0441\u044b\u043b\u043a\u0443](http://localhost:3000/as-assets/1) \u043d\u0430 \u043d\u0435\u0433\u043e \u043e\u0441\u0442\u0430\u0432\u043b\u044e, \u0432\u043e\u0442 \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e *\u043e\u0447\u0438\u043f\u0438\u0444\u0438\u0433\u0438\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u043a\u0442\u0438\u0432.*"}]')},350:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(369),o=n(370),i=n(0),r=n.n(i),s=n(22),l=n.n(s),d=n(169),b=n(16),u=n(368),j=n(41),p=n(81),O=n(364),h=n(20),m=n(365),f=n(153),g=n.n(f),x=n(158),y=n.n(x),k=n(159),C=n.n(k),v=n(161),S=n.n(v),E=n(160),L=n.n(E),I=n(162),w=n.n(I),N=n(163),B=n.n(N),R=n(164),T=n.n(R),F=n(165),D=n.n(F),W={List:g.a,FormatBold:y.a,FormatItalic:C.a,FormatUnderlined:L.a,Link:S.a,SentimentVerySatisfied:w.a,Close:B.a,Check:T.a,FormatListNumberedIcon:D.a},U=function(e){return W[e]},A=n(7),K=Object(O.a)({richEditorTools:{borderBottom:"1px solid #d2d2d2"},btn:{padding:4,borderRadius:0,borderRight:"1px solid #d2d2d2"},textIcon:{fontWeight:400,fontSize:15,height:24,alignItems:"center",justifyContent:"center",display:"flex",paddingLeft:3,paddingRight:3}}),z=[{type:"inline",icon:"FormatBold",style:"BOLD"},{type:"inline",icon:"FormatItalic",style:"ITALIC"},{type:"block",style:"unordered-list-item",icon:"List"},{type:"block",style:"ordered-list-item",icon:"FormatListNumberedIcon"},{type:"block",style:"header-two",text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},{type:"block",style:"header-three",text:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},{type:"link",style:"",icon:"Link"}],P=function(e){var t=e.editorState,n=e.toggleBlockType,c=e.toggleInlineStyle,o=e.openLinkPicker,r=e.className,s=K(),l=Object(i.useCallback)((function(e){var t=e.type,a=e.style;return function(e){switch(e.preventDefault(),t){case"block":n(a);break;case"inline":c(a);break;case"link":o()}}}),[n,c,o]),d=t.getCurrentInlineStyle(),b=t.getSelection(),u=t.getCurrentContent().getBlockForKey(b.getStartKey()).getType();return Object(a.jsx)("div",{className:Object(A.a)(s.richEditorTools,r),children:z.map((function(e,t){var n=e.icon&&U(e.icon),c="inline"===e.type&&d.has(e.style)||"block"===e.type&&e.style===u?"primary":"default";return Object(a.jsxs)(m.a,{className:s.btn,size:"small",onMouseDown:l(e),color:c,disabled:e.disabled,children:[n&&Object(a.jsx)(n,{}),e.text&&Object(a.jsx)("span",{className:s.textIcon,children:e.text})]},t)}))})},M=n(170),J=n(366),Y=Object(O.a)({linkPicker:{top:33,left:0,zIndex:2,position:"absolute",background:"#fafdff",borderBottom:"1px solid #d2d2d2",boxShadow:"1px 1px 4px 0px #e4e1e1",padding:5,display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:10,width:"100%"},input:{border:0,borderBottom:"2px solid #0088bb",marginRight:10,background:"transparent",outline:"none !important",transition:"border .2s ease-in-out"},inputError:{borderBottom:"2px solid #ee1d1d"}}),H=U("Close"),V=U("Check"),X=function(e){var t=e.closeLinkPicker,n=e.editorState,c=e.setEditorState,o=Y(),r=Object(i.useState)(),s=Object(b.a)(r,2),l=s[0],d=s[1],u=(n.getSelection(),Object(i.useState)("")),p=Object(b.a)(u,2),O=p[0],f=p[1],g=Object(i.useCallback)((function(e){f(e.target.value),e.target.value&&d(!1)}),[]),x=Object(i.useCallback)((function(e){if(e.preventDefault(),O){var a=n.getCurrentContent().createEntity("LINK","MUTABLE",{url:O}),o=a.getLastCreatedEntityKey(),i=h.EditorState.set(n,{currentContent:a});c(h.RichUtils.toggleLink(i,i.getSelection(),o)),f(""),t()}else d(!0)}),[n,c,t,O]);return Object(a.jsx)(J.a,{in:!0,children:Object(a.jsxs)("div",{className:o.linkPicker,children:[Object(a.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL:",onChange:g,value:O,className:Object(A.a)(o.input,Object(j.a)({},o.inputError,l))}),Object(a.jsx)(m.a,{size:"small",onMouseDown:x,children:Object(a.jsx)(V,{})}),Object(a.jsx)(m.a,{size:"small",onClick:t,children:Object(a.jsx)(H,{})})]})})},q=Object(O.a)({link:{color:"#0088bb",textDecoration:"underline"}}),G=new h.CompositeDecorator([{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)},component:function(e){var t=q(),n=e.contentState.getEntity(e.entityKey).getData().url;return Object(a.jsx)("a",{className:t.link,href:n,children:e.children})}}]),Q=Object(O.a)({richEditorWrapper:{background:"#ffffff",border:"1px solid #d2d2d2",marginBottom:20,position:"relative",transition:"border .2s ease-in-out"},richEditorWrapperFocus:{borderColor:"#4dd0e1"},richEditorArea:{padding:10,height:200,overflowY:"auto",transition:"box-shadow .2s ease-in-out"},richEditorAreaFocus:{boxShadow:"inset 0px 0px 10px #caefff"},toolsUnfocus:{opacity:.95,transition:"opacity .2s ease-in-out"}}),Z={BOLD:{fontWeight:600},LINK:{color:"#0088bb"}},$=function(e){var t=e.forceClean,n=Object(p.a)(e,["forceClean"]),c=Q(),o=Object(i.useState)(h.EditorState.createEmpty(G)),r=Object(b.a)(o,2),s=r[0],l=r[1],d=Object(i.useState)(),u=Object(b.a)(d,2),O=u[0],m=u[1];Object(i.useEffect)((function(){t&&l(h.EditorState.createEmpty())}),[t]);var f=Object(i.createRef)(),g=Object(i.useCallback)((function(){m(!1);var e=s.getCurrentContent(),t=Object(h.convertToRaw)(e),a=Object(M.a)(t,{styleItems:{ITALIC:{open:function(){return"*"},close:function(){return"*"}}}});console.log(t,a),n.onChange(a)}),[n.onChange,s]),x=Object(i.useCallback)((function(e){return l(e)}),[]),y=Object(i.useCallback)((function(e){return l(h.RichUtils.toggleBlockType(s,e))}),[s]),k=Object(i.useCallback)((function(e){return l(h.RichUtils.toggleInlineStyle(s,e))}),[s]),C=Object(i.useCallback)((function(){f&&f.current&&(f.current.focus(),m(!0))}),[f]),v=Object(i.useState)(),S=Object(b.a)(v,2),E=S[0],L=S[1],I=Object(i.useCallback)((function(){s.getSelection().isEmpty()||L(!0)}),[s]),w=Object(i.useCallback)((function(){L(!1)}),[C]);return Object(a.jsxs)("div",{className:Object(A.a)(c.richEditorWrapper,Object(j.a)({},c.richEditorWrapperFocus,O)),children:[Object(a.jsx)(P,{editorState:s,toggleBlockType:y,toggleInlineStyle:k,openLinkPicker:I,className:O?void 0:c.toolsUnfocus}),E&&Object(a.jsx)(X,{editorState:s,closeLinkPicker:w,setEditorState:l}),Object(a.jsx)("div",{className:Object(A.a)(c.richEditorArea,Object(j.a)({},c.richEditorAreaFocus,O)),onClick:C,children:Object(a.jsx)(h.Editor,{editorState:s,onChange:x,spellCheck:!0,customStyleMap:Z,onBlur:g,ref:f})})]})},_=n(49),ee=n(367),te=n(166),ne=n.n(te),ae=Object(O.a)({comment:{marginBottom:10,background:"#e8e8e8",padding:10,borderRadius:5},author:{fontWeight:500},date:{opacity:.8,marginBottom:10}}),ce=r.a.memo((function(e){var t=e.author,n=e.date,c=e.text,o=Object(p.a)(e,["author","date","text"]),i=ae();return Object(a.jsx)(oe,Object(_.a)(Object(_.a)({},o),{},{children:Object(a.jsxs)("div",{className:i.comment,children:[Object(a.jsx)("div",{className:i.author,children:t}),Object(a.jsx)("div",{className:i.date,children:n}),Object(a.jsx)(ne.a,{children:c})]})}))})),oe=function(e){var t=e.children,n=e.index,c=e.showLastComment,o=e.animationTimeout,i=e.visible;return 0!==n||i?Object(a.jsx)("div",{children:t}):Object(a.jsx)(ee.a,{in:c,timeout:o,children:Object(a.jsx)("div",{children:t})})},ie=Object(O.a)({comments:{marginBottom:20,marginTop:20,maxHeight:500,paddingRight:5,overflowY:"auto",overflowX:"hidden"}}),re=r.a.memo((function(e){var t=e.data,n=ie(),c=Object(i.useState)(!1),o=Object(b.a)(c,2),r=o[0],s=o[1],l=Object(i.useState)(0),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Object(i.useRef)(t.length);return Object(i.useEffect)((function(){p.current!==t.length&&(p.current=t.length,s(!1),j(0),setTimeout((function(){j(300),s(!0)}),10))}),[t]),Object(a.jsx)("div",{className:n.comments,children:t.map((function(e,t){return Object(i.createElement)(ce,Object(_.a)(Object(_.a)({},e),{},{key:t,index:t,showLastComment:r,animationTimeout:u}))}))})})),se=n(167),le=Object(O.a)({appWrapper:{margin:"0 auto",maxWidth:700,height:"100vh",padding:10,background:"#f5f5f5"},"@global":{"*::-webkit-scrollbar":{width:10},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",borderRadius:5}}});var de=function(){var e=le(),t=Object(i.useState)(se),n=Object(b.a)(t,2),c=n[0],o=n[1],r=Object(i.useState)(),s=Object(b.a)(r,2),l=s[0],j=s[1],p=Object(i.useState)(),O=Object(b.a)(p,2),h=O[0],m=O[1],f=Object(i.useCallback)((function(){h&&(o([{author:"\u0422\u0435\u0441\u0442 \u0422\u0435\u0441\u0442\u043e\u0432",date:"23.09.2020 20:31",text:h}].concat(Object(d.a)(c))),j(+new Date),m(void 0),console.log(h))}),[h,c]);return Object(a.jsxs)("div",{className:e.appWrapper,children:[Object(a.jsx)($,{onChange:m,forceClean:l}),Object(a.jsx)(u.a,{variant:"contained",color:"primary",size:"small",onClick:f,children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(a.jsx)(re,{data:c})]})},be=n(168),ue=Object(be.a)({palette:{primary:{main:"#0088bb"}}});l.a.render(Object(a.jsxs)(r.a.StrictMode,{children:[Object(a.jsx)(c.a,{}),Object(a.jsx)(o.a,{theme:ue,children:Object(a.jsx)(de,{})})]}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.d92fd50c.chunk.js.map