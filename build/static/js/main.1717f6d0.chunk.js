(this["webpackJsonpas-assets"]=this["webpackJsonpas-assets"]||[]).push([[0],{167:function(e){e.exports=JSON.parse('[{"author":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440 \u0410\u043a\u0442\u0438\u0432\u0430","date":"22.03.2020 05:40","text":"\u041d\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0443\u0441\u044c \u0441 \u0432\u0430\u043c\u0438 \u043a\u0430\u043b\u043b\u0435\u0433\u0430, \u0430\u043a\u0442\u0438\u0432 **\u0442\u0430\u043a\u0438 \u043e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445.**","visible":true},{"author":"\u041a\u043e\u043d\u0442\u0440\u043e\u043b\u0435\u0440 \u041e\u043f\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u0432\u0438\u0447","date":"02.03.2020 09:40","text":"### \u0425\u043e\u0440\u043e\u0448\u0438\u0439 \u0430\u043a\u0442\u0438\u0432\\n\u042d\u0442\u043e\u0442 \u0430\u043a\u0442\u0438\u0432 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u0445\u043e\u0440\u043e\u0448, \u0447\u0442\u043e \u0434\u0430\u0436\u0435 \u043d\u0435 \u043c\u043e\u0433\u0443 \u043e\u043f\u0438\u0441\u0430\u0442\u044c \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043e\u043d **\u043e\u0444\u0438\u0433\u0435\u043d\u0435\u043d**.\\n\u0412\u0441\u0435 \u043a\u0440\u0438\u0435\u0442\u0440\u0438\u0438 \u0432 \u043f\u043e\u0440\u044f\u0434\u0435:\\n1. \u041f\u0435\u0440\u0432\u044b\u0439 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439\\n2. \u0412\u0442\u043e\u0440\u043e\u0439 \u043a\u0440\u0438\u0442\u0435\u0440\u0438\u0439\\n3. \u0422\u0440\u0435\u0442\u0438\u0439 \u0432\u0430\u0449\u0435 \u043e\u0433\u043e\u043d\u044c.\\n\u0414\u0430\u0436\u0435 [\u0441\u0441\u044b\u043b\u043a\u0443](http://localhost:3000/as-assets/1) \u043d\u0430 \u043d\u0435\u0433\u043e \u043e\u0441\u0442\u0430\u0432\u043b\u044e, \u0432\u043e\u0442 \u043d\u0430\u0441\u043a\u043e\u043b\u044c\u043a\u043e *\u043e\u0447\u0438\u043f\u0438\u0444\u0438\u0433\u0438\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0430\u043a\u0442\u0438\u0432.*"}]')},350:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(369),o=n(370),c=n(0),i=n.n(c),s=n(22),l=n.n(s),d=n(169),b=n(16),u=n(368),j=n(41),p=n(81),O=n(364),g=n(20),h=n(365),f=n(153),m=n.n(f),x=n(158),y=n.n(x),k=n(159),v=n.n(k),C=n(161),S=n.n(C),E=n(160),L=n.n(E),I=n(162),w=n.n(I),N=n(163),B=n.n(N),R=n(164),T=n.n(R),F=n(165),D=n.n(F),W={List:m.a,FormatBold:y.a,FormatItalic:v.a,FormatUnderlined:L.a,Link:S.a,SentimentVerySatisfied:w.a,Close:B.a,Check:T.a,FormatListNumberedIcon:D.a},K=function(e){return W[e]},A=n(7),U=Object(O.a)({richEditorTools:{borderBottom:"1px solid #d2d2d2"},btn:{padding:4,borderRadius:0,borderRight:"1px solid #d2d2d2"},textIcon:{fontWeight:400,fontSize:15,height:24,alignItems:"center",justifyContent:"center",display:"flex",paddingLeft:3,paddingRight:3}}),z=[{type:"inline",icon:"FormatBold",style:"BOLD"},{type:"inline",icon:"FormatItalic",style:"ITALIC"},{type:"block",style:"unordered-list-item",icon:"List"},{type:"block",style:"ordered-list-item",icon:"FormatListNumberedIcon"},{type:"block",style:"header-two",text:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},{type:"block",style:"header-three",text:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"},{type:"link",style:"",icon:"Link"}],P=function(e){var t=e.editorState,n=e.toggleBlockType,r=e.toggleInlineStyle,o=e.toggleLinkPicker,i=e.className,s=U(),l=Object(c.useCallback)((function(e){var t=e.type,a=e.style;return function(e){switch(e.preventDefault(),t){case"block":n(a);break;case"inline":r(a);break;case"link":o()}}}),[n,r,o]),d=t.getCurrentInlineStyle(),b=t.getSelection(),u=t.getCurrentContent().getBlockForKey(b.getStartKey()).getType();return Object(a.jsx)("div",{className:Object(A.a)(s.richEditorTools,i),children:z.map((function(e,t){var n=e.icon&&K(e.icon),r="inline"===e.type&&d.has(e.style)||"block"===e.type&&e.style===u?"primary":"default";return Object(a.jsxs)(h.a,{className:s.btn,size:"small",onMouseDown:l(e),color:r,disabled:e.disabled,children:[n&&Object(a.jsx)(n,{}),e.text&&Object(a.jsx)("span",{className:s.textIcon,children:e.text})]},t)}))})},M=n(170),J=n(366),Y=Object(O.a)({linkPicker:{top:33,left:0,zIndex:2,position:"absolute",background:"#fafdff",borderBottom:"1px solid #d2d2d2",boxShadow:"1px 1px 4px 0px #e4e1e1",padding:5,display:"flex",alignItems:"center",justifyContent:"flex-start",paddingLeft:10,width:"100%"},input:{border:0,borderBottom:"2px solid #0088bb",marginRight:10,background:"transparent",outline:"none !important",transition:"border .2s ease-in-out"},inputError:{borderBottom:"2px solid #ee1d1d"}}),H=K("Close"),V=K("Check"),X=function(e){var t=e.open,n=e.toggleLinkPicker,r=e.editorState,o=e.setEditorState,i=Y(),s=Object(c.useState)(),l=Object(b.a)(s,2),d=l[0],u=l[1],p=Object(c.useState)(),O=Object(b.a)(p,2),f=O[0],m=O[1],x=Object(c.useRef)(t);Object(c.useEffect)((function(){if(x.current!==t&&(u(""),m(!1),x.current=t,!r.getSelection().isCollapsed())){var e=r.getCurrentContent(),n=r.getSelection().getStartKey(),a=r.getSelection().getStartOffset(),o=e.getBlockForKey(n).getEntityAt(a);if(o){var c=e.getEntity(o);return void u(c.getData().url)}}}),[t,r]);var y=Object(c.useCallback)((function(e){e.preventDefault(),u(e.target.value),e.target.value&&m(!1)}),[]),k=Object(c.useCallback)((function(e){if(e.preventDefault(),d){var t=r.getCurrentContent().createEntity("LINK","MUTABLE",{url:d}),a=t.getLastCreatedEntityKey(),c=g.EditorState.set(r,{currentContent:t});o(g.RichUtils.toggleLink(c,c.getSelection(),a)),u(""),n()}else m(!0)}),[r,o,n,d]);return Object(a.jsx)(J.a,{in:t,children:Object(a.jsxs)("div",{className:i.linkPicker,children:[Object(a.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 URL:",onChange:y,value:d,className:Object(A.a)(i.input,Object(j.a)({},i.inputError,f))}),Object(a.jsx)(h.a,{size:"small",onMouseDown:k,children:Object(a.jsx)(V,{})}),Object(a.jsx)(h.a,{size:"small",onClick:n,children:Object(a.jsx)(H,{})})]})})},q=Object(O.a)({link:{color:"#0088bb",textDecoration:"underline"}}),G=new g.CompositeDecorator([{strategy:function(e,t,n){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()}),t)},component:function(e){var t=q(),n=e.contentState.getEntity(e.entityKey).getData().url;return Object(a.jsx)("a",{className:t.link,href:n,children:e.children})}}]),Q=Object(O.a)({richEditorWrapper:{background:"#ffffff",border:"1px solid #d2d2d2",marginBottom:20,position:"relative",transition:"border .2s ease-in-out"},richEditorWrapperFocus:{borderColor:"#4dd0e1"},richEditorArea:{padding:10,height:200,overflowY:"auto",transition:"box-shadow .2s ease-in-out"},richEditorAreaFocus:{boxShadow:"inset 0px 0px 10px #caefff"},toolsUnfocus:{opacity:.95,transition:"opacity .2s ease-in-out"}}),Z={BOLD:{fontWeight:600},LINK:{color:"#0088bb"}},$=function(e){var t=e.forceClean,n=Object(p.a)(e,["forceClean"]),r=Q(),o=Object(c.useState)(g.EditorState.createEmpty(G)),i=Object(b.a)(o,2),s=i[0],l=i[1],d=Object(c.useState)(),u=Object(b.a)(d,2),O=u[0],h=u[1];Object(c.useEffect)((function(){t&&l(g.EditorState.createEmpty())}),[t]);var f=Object(c.createRef)(),m=Object(c.useCallback)((function(e){l(e);var t=e.getCurrentContent(),a=Object(g.convertToRaw)(t),r=Object(M.a)(a,{styleItems:{ITALIC:{open:function(){return"*"},close:function(){return"*"}}}});n.onChange(r)}),[n.onChange]),x=Object(c.useCallback)((function(e){return l(g.RichUtils.toggleBlockType(s,e))}),[s]),y=Object(c.useCallback)((function(e){return l(g.RichUtils.toggleInlineStyle(s,e))}),[s]),k=Object(c.useCallback)((function(){f&&f.current&&(f.current.focus(),h(!0))}),[f]),v=Object(c.useCallback)((function(){return h(!1)}),[]),C=Object(c.useState)(),S=Object(b.a)(C,2),E=S[0],L=S[1],I=Object(c.useCallback)((function(){return L(!E)}),[E]);return Object(a.jsxs)("div",{className:Object(A.a)(r.richEditorWrapper,Object(j.a)({},r.richEditorWrapperFocus,O)),children:[Object(a.jsx)(P,{editorState:s,toggleBlockType:x,toggleInlineStyle:y,toggleLinkPicker:I,className:O?void 0:r.toolsUnfocus}),Object(a.jsx)(X,{editorState:s,toggleLinkPicker:I,open:E,setEditorState:l}),Object(a.jsx)("div",{className:Object(A.a)(r.richEditorArea,Object(j.a)({},r.richEditorAreaFocus,O)),onClick:k,children:Object(a.jsx)(g.Editor,{editorState:s,onChange:m,spellCheck:!0,customStyleMap:Z,onBlur:v,ref:f})})]})},_=n(49),ee=n(367),te=n(166),ne=n.n(te),ae=Object(O.a)({comment:{marginBottom:10,background:"#e8e8e8",padding:10,borderRadius:5},author:{fontWeight:500},date:{opacity:.8,marginBottom:10}}),re=i.a.memo((function(e){var t=e.author,n=e.date,r=e.text,o=Object(p.a)(e,["author","date","text"]),c=ae();return Object(a.jsx)(oe,Object(_.a)(Object(_.a)({},o),{},{children:Object(a.jsxs)("div",{className:c.comment,children:[Object(a.jsx)("div",{className:c.author,children:t}),Object(a.jsx)("div",{className:c.date,children:n}),Object(a.jsx)(ne.a,{children:r})]})}))})),oe=function(e){var t=e.children,n=e.index,r=e.showLastComment,o=e.animationTimeout,c=e.visible;return 0!==n||c?Object(a.jsx)("div",{children:t}):Object(a.jsx)(ee.a,{in:r,timeout:o,children:Object(a.jsx)("div",{children:t})})},ce=Object(O.a)({comments:{marginBottom:20,marginTop:20,maxHeight:500,paddingRight:5,overflowY:"auto",overflowX:"hidden"}}),ie=i.a.memo((function(e){var t=e.data,n=ce(),r=Object(c.useState)(!1),o=Object(b.a)(r,2),i=o[0],s=o[1],l=Object(c.useState)(0),d=Object(b.a)(l,2),u=d[0],j=d[1],p=Object(c.useRef)(t.length);return Object(c.useEffect)((function(){p.current!==t.length&&(p.current=t.length,s(!1),j(0),setTimeout((function(){j(300),s(!0)}),10))}),[t]),Object(a.jsx)("div",{className:n.comments,children:t.map((function(e,t){return Object(c.createElement)(re,Object(_.a)(Object(_.a)({},e),{},{key:t,index:t,showLastComment:i,animationTimeout:u}))}))})})),se=n(167),le=Object(O.a)({appWrapper:{margin:"0 auto",maxWidth:700,height:"100vh",padding:10,background:"#f5f5f5"},"@global":{"*::-webkit-scrollbar":{width:10},"*::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",borderRadius:5}}});var de=function(){var e=le(),t=Object(c.useState)(se),n=Object(b.a)(t,2),r=n[0],o=n[1],i=Object(c.useState)(),s=Object(b.a)(i,2),l=s[0],j=s[1],p=Object(c.useState)(),O=Object(b.a)(p,2),g=O[0],h=O[1],f=Object(c.useCallback)((function(){g&&(o([{author:"\u0422\u0435\u0441\u0442 \u0422\u0435\u0441\u0442\u043e\u0432",date:"23.09.2020 20:31",text:g}].concat(Object(d.a)(r))),j(+new Date),h(void 0),console.log(g))}),[g,r]);return Object(a.jsxs)("div",{className:e.appWrapper,children:[Object(a.jsx)($,{onChange:h,forceClean:l}),Object(a.jsx)(u.a,{variant:"contained",color:"primary",size:"small",onClick:f,children:"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}),Object(a.jsx)(ie,{data:r})]})},be=n(168),ue=Object(be.a)({palette:{primary:{main:"#0088bb"}}});l.a.render(Object(a.jsxs)(i.a.StrictMode,{children:[Object(a.jsx)(r.a,{}),Object(a.jsx)(o.a,{theme:ue,children:Object(a.jsx)(de,{})})]}),document.getElementById("root"))}},[[350,1,2]]]);
//# sourceMappingURL=main.1717f6d0.chunk.js.map